@page "/Projects"
@using UI.Components.Modals
@using UI.Components.Projects

<Container Margin="Margin.Is0.Is2.OnY" Fluid>
    <Row>
        <Column>
            <Heading Size="HeadingSize.Is4">My projects</Heading>
        </Column>
    </Row>

    <Row Class="mt-3">
        @foreach (var project in UserProjects)
        {
            <Column ColumnSize="ColumnSize.Is6.OnTablet.Is6.OnMobile.Is3.OnDesktop.Is3.OnWidescreen.Is3.OnFullHD" 
                    Class="mb-4">
                <ProjectCard Project="@project" OnDelete="DeleteProject"/>
            </Column>
        }

        @if (!UserProjects.Any())
        {
            <Column>
                <Paragraph>No projects found.</Paragraph>
            </Column>
        }

        <Column ColumnSize="ColumnSize.Is6.OnTablet.Is6.OnMobile.Is3.OnDesktop.Is3.OnWidescreen.Is3.OnFullHD" Class="mb-4">
            <CreateProjectCard OnClick="@ShowModal"/>
        </Column>
    </Row>
    
    <CreateProjectModal @ref="@_projectModalRef"
                        NewProject="@_newProject"
                        OnCancelClicked="@HideModal"
                        OnCreateClicked="@CreateProject"/>
</Container>